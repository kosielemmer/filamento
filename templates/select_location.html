{% extends 'base.html' %}

{% block content %}
<h1>Select Location</h1>
<h2>For {{ color_name }} {{ filament_type }}</h2>
<div style="background-color: #{{ color_hex_code }}; width: 50px; height: 50px; display: inline-block; vertical-align: middle; margin-right: 10px;"></div>
<span style="vertical-align: middle;">Color: #{{ color_hex_code }}</span>

<div class="location-grid-container">
    <div class="location-grid">
        {% for row in grid %}
            <div class="grid-row">
                {% for cell in row %}
                    <form action="{{ url_for('add_inventory_item') }}" method="post" style="display: inline;">
                        <input type="hidden" name="manufacturer_id" value="{{ manufacturer_id }}">
                        <input type="hidden" name="filament_type" value="{{ filament_type }}">
                        <input type="hidden" name="color_name" value="{{ color_name }}">
                        <input type="hidden" name="color_hex_code" value="{{ color_hex_code }}">
                        <input type="hidden" name="location" value="{{ cell.location }}">
                        <button type="submit" 
                                class="btn btn-medium {% if cell.status == 'occupied' %}btn-occupied{% else %}btn-empty{% endif %}"
                                disabled="{{ cell.status == 'occupied' }}">
                            {{ cell.location }}
                            <br>
                            {{ cell.status }}
                        </button>
                    </form>
                {% endfor %}
            </div>
        {% endfor %}
    </div>
</div>

<div class="navigation-buttons">
    <a href="{{ url_for('select_color', manufacturer_id=manufacturer_id, filament_type=filament_type) }}" class="btn btn-small">Back to Color Selection</a>
</div>
{% endblock %}
