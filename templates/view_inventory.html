{% extends 'base.html' %}

{% block content %}
<h1>Current Inventory</h1>
<div class="table-container">
    <table id="inventoryTable">
        <thead>
            <tr>
                <th>Manufacturer</th>
                <th>Filament Type</th>
                <th>Color</th>
                <th>Color Sample</th>
                <th>Location</th>
            </tr>
            <tr>
                <th><input type="text" class="column-filter" data-column="0" placeholder="Filter Manufacturer"></th>
                <th><input type="text" class="column-filter" data-column="1" placeholder="Filter Filament Type"></th>
                <th><input type="text" class="column-filter" data-column="2" placeholder="Filter Color"></th>
                <th></th>
                <th><input type="text" class="column-filter" data-column="4" placeholder="Filter Location"></th>
            </tr>
        </thead>
        <tbody>
            {% for item in inventory %}
            <tr>
                <td>{{ item[0] }}</td>
                <td>{{ item[1] }}</td>
                <td>{{ item[2] }}</td>
                <td><div class="color-sample" style="background-color: {{ item[3] }};" title="{{ item[2] }}"></div></td>
                <td>{{ item[4] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<a href="{{ url_for('index') }}" class="btn btn-small">Back to Main Page</a>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script>
$(document).ready(function() {
    var table = $('#inventoryTable').DataTable({
        "paging": false,
        "info": false,
        "ordering": true
    });

    // Apply column filtering
    $('.column-filter').on('keyup change', function() {
        table
            .column($(this).data('column'))
            .search(this.value)
            .draw();
    });
});
</script>
{% endblock %}
